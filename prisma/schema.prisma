// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

// Note that some adapters may set a maximum length for the String type by default, please ensure your strings are long
// enough when changing adapters.
// See https://www.prisma.io/docs/orm/reference/prisma-schema-reference#string for more information
datasource db {
  provider = "sqlite"
  url      = "file:dev.sqlite"
}

model Session {
  id            String    @id
  shop          String    @unique
  state         String
  isOnline      Boolean   @default(false)
  scope         String?
  expires       DateTime?
  accessToken   String
  userId        BigInt?
  firstName     String?
  lastName      String?
  email         String?
  accountOwner  Boolean   @default(false)
  locale        String?
  collaborator  Boolean?  @default(false)
  emailVerified Boolean?  @default(false)
  settings      ShopSettings?
  designSettings DesignSettings? 
}

model ShopSettings {
  id                       Int      @id @default(autoincrement())
  shop                     String   @unique
  enableApp                Boolean
  allowNoteChange          Boolean
  allowEmailChange         Boolean
  allowCountryChange       Boolean
  allowProvinceChange      Boolean
  allowCityChange          Boolean
  allowZipCodeChange       Boolean
  disallowPOBox           Boolean
  restrictEditingTag       String?
  disableEditingTag        String?
  autoTagUpdatedOrder      Boolean
  sendEmailNotification    Boolean
  syncToShipStation        Boolean
  shipStationApiKey        String?
  shipStationApiSecret     String?
  allowOrdersEdit          String
  disallowOrdersEdit       String
  shipStationApiSecretKey   String?
  session              Session  @relation(fields: [shop], references: [shop]) 
}

model DesignSettings {
    id                      Int      @id @default(autoincrement())
    buttonText              String
    dialogHeader            String
    instructionText         String
    confirmText             String
    updatingText            String
    closeText               String
    errorText               String
    selectedCountries       String
    shop                    String   @unique 
    session                 Session  @relation(fields: [shop], references: [shop]) 
}